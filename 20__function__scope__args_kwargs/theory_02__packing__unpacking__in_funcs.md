# Packing и Unpacking 

## 1. Packing (упаковка аргументов)

**Packing** — это сбор нескольких аргументов в один объект (`tuple` или `dict`) при передаче в функцию.
Используется операторы `*` и `**` в **определении функции**.

---

### `*args` — упаковка позиционных аргументов

```python
def show_numbers(*args):
    print(args)
    print(type(args))

show_numbers(1, 2, 3)
# (1, 2, 3)
<class 'tuple'>
```


---

### `**kwargs` — упаковка именованных аргументов

```python
def show_info(**kwargs):
    print(kwargs)

    
show_info(name="Alice", age=25, city="Paris")
# {'name': 'Alice', 'age': 25, 'city': 'Paris'}
```

---

## 2. Unpacking (распаковка аргументов)

**Unpacking** — это передача элементов последовательности или словаря в функцию **по отдельности**  
с помощью операторов `*` и `**` в **вызове функции**.

---

### Распаковка списка или тюпла

```python
def add(a, b, c):
    return a + b + c

nums = (1, 2, 3)
print(add(*nums))  # эквивалентно add(1, 2, 3)
```


### Распаковка словаря

```python
def show_person(name, age, city):
    print(name, age, city)

person = {"name": "Bob", "age": 30, "city": "London"}
show_person(**person)  # эквивалентно show_person(name="Bob", age=30, city="London")
```


## Комбинированное использование

Можно использовать и `*args`, и `**kwargs` одновременно,
но `*args` всегда должны идти **перед** `**kwargs`.

```python
def display(*args, **kwargs):
    print("args:", args)
    print("kwargs:", kwargs)

display(1, 2, name="Anna", age=22)
```

Результат:

```
args: (1, 2)
kwargs: {'name': 'Anna', 'age': 22}
```

---

## Распаковка в определении функции

Функции могут иметь несколько типов параметров в одном определении.
В Python порядок параметров строго определён:

1. Позиционные (обычные)
2. `*args`
3. Именованные (с дефолтными значениями)
4. `**kwargs`

Пример:

```python
def example(a, b, *args, option=True, **kwargs):
    print(a, b, args, option, kwargs)
```

* `a` и `b` - обязательные позиционные параметры
* `*args` - параметр, означающий упаковку в тюпл любого количества позиционных аргументов
* `option=True` - параметр по умолчанию (именованный параметр, указанный при определении функции)
* `**kwargs` - параметр, означающий упаковку в словарь любого количество именованных аргументов

---

### Только `*args`

Если функция определена так:

```python
def func(*args):
    ...
```

Она принимает **любое количество позиционных аргументов**,
но **никаких именованных**.

Пример:

```python
def sum_all(*args):
    return sum(args)

sum_all(1, 2, 3)  # ✅ OK
sum_all(a=1, b=2) # ❌ Ошибка
```

---

### Только `**kwargs`

Наоборот, если функция определена так:

```python
def func(**kwargs):
    ...
```

Она принимает **только именованные аргументы**.

```python
def greet(**kwargs):
    for key, value in kwargs.items():
        print(f"{key} = {value}")

greet(name="Alice", mood="happy")  # ✅
greet("Alice")                     # ❌ Ошибка
```

---

## **Дополнительно: синтаксис для ограничения вида аргументов

Python 3.8+ ввёл два специальных символа в определении функций:

| Символ | Значение                                         |
| ------ | ------------------------------------------------ |
| `/`    | всё *до* него — **только позиционные аргументы** |
| `*`    | всё *после* — **только именованные аргументы**   |


### Пример:

```python
def example(a, b, /, c, *, d):
    print(a, b, c, d)

    
example(1, 2, 3, d=4)    # ✅ OK
example(a=1, b=2, c=3, d=4)  # ❌ Ошибка: a и b только позиционные
example(1, 2, 3, 4)          # ❌ Ошибка: d только именованный
```

---

## Итог

| Оператор    | Где используется | Что делает                                      |
| ----------- | ---------------- |-------------------------------------------------|
| `*args`     | в определении    | Упаковывает все позиционные аргументы в тюпл    |
| `**kwargs`  | в определении    | Упаковывает все именованные аргументы в словарь |
| `*iterable` | при вызове       | Распаковывает элементы последовательности       |
| `**dict`    | при вызове       | Распаковывает пары ключ–значение из словаря     |
| `/`         | в определении    | Аргументы только позиционные                    |
| `*`         | в определении    | Аргументы только именованные                    |



