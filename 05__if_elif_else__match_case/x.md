
# Таблица шаблонов конструкции `match-case` в Python

| Тип шаблона                   | Описание                                                                 | Пример кода                                                                 | Результат выполнения                                                                                                                                          |
|-------------------------------|--------------------------------------------------------------------------|-----------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------|
| **Литеральный шаблон**        | Сравнение с конкретным значением (числа, строки, `None`, кортежи и т.д.). | ```python<br>match x:<br>    case 200:<br>        return "OK"<br>    case _:<br>        return "Unknown"<br>``` | `x = 200` → `"OK"`<br>`x = 404` → `"Unknown"`                                                                                                                 |
| **Шаблон захвата**            | Присваивает значение переменной, если оно не совпадает с другими шаблонами. | ```python<br>match name:<br>    case "Alice":<br>        return "Hi, Alice!"<br>    case person:<br>        return f"Hey, {person}!"<br>``` | `name = "Alice"` → `"Hi, Alice!"`<br>`name = "Bob"` → `"Hey, Bob!"`                                                                                           |
| **Шаблон последовательности** | Сопоставление со списками или кортежами по их структуре. Поддерживает распаковку (`*`). | ```python<br>match lst:<br>    case []:<br>        return "Empty"<br>    case [x, *rest]:<br>        return f"First: {x}, Rest: {rest}"<br>``` | `lst = []` → `"Empty"`<br>`lst = [1, 2, 3]` → `"First: 1, Rest: [2, 3]"`                                                                                      |
| **Шаблон словаря**            | Проверяет наличие ключей и их значений в словаре, с возможностью захвата. | ```python<br>match d:<br>    case {"name": name, "age": age}:<br>        return f"{name}, {age}"<br>    case _:<br>        return "Invalid"<br>``` | `d = {"name": "Alice", "age": 25}` → `"Alice, 25"`<br>`d = {}` → `"Invalid"`                                                                                  |
| **Шаблон класса**             | Проверяет, является ли объект экземпляром класса, и извлекает его атрибуты. | ```python<br>class Point:<br>    def __init__(self, x, y):<br>        self.x = x<br>        self.y = y<br>match p:<br>    case Point(0, 0):<br>        return "Origin"<br>    case Point(x, y):<br>        return f"At ({x}, {y})"<br>``` | `p = Point(0, 0)` → `"Origin"`<br>`p = Point(3, 4)` → `"At (3, 4)"`                                                                                           |
| **Шаблон с условием (Guard)** | Добавляет дополнительное условие к шаблону с помощью `if`. | ```python<br>match num:<br>    case n if n > 0:<br>        return "Positive"<br>    case n if n < 0:<br>        return "Negative"<br>    case 0:<br>        return "Zero"<br>``` | `num = 5` → `"Positive"`<br>`num = -3` → `"Negative"`<br>`num = 0` → `"Zero"`                                                                                 |
| **Шаблон с OR (`\|`)**        | Позволяет указать несколько значений в одном `case`.                     | ```python<br>match value:<br>    case 1 \| 2  \| 3:<br>        return "Small"<br>    case _:<br>        return "Other"<br>``` | `value = 2` → `"Small"`<br>`value = 5` → `"Other"` |
| **Рекурсивный шаблон**        | Сопоставление вложенных структур (например, список внутри списка).       | ```python<br>match data:<br>    case [1, [x, y]]:<br>        return f"Nested: {x}, {y}"<br>    case _:<br>        return "No match"<br>``` | `data = [1, [2, 3]]` → `"Nested: 2, 3"`<br>`data = [4, 5]` → `"No match"`                                                                                     |
| **Шаблон Wildcard (`_`)**     | Соответствует любому значению, используется как аналог `default`.         | ```python<br>match x:<br>    case 1:<br>        return "One"<br>    case _:<br>        return "Other"<br>``` | `x = 1` → `"One"`<br>`x = 999` → `"Other"`                                                                                                                    |
