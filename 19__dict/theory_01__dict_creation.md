# Cпособы создания словаря

## 1. Через фигурные скобки `{}`

```python
d = {'a': 1, 'b': 2, 'c': 3}

d_empty = {}  # пример пустого словаря
```

* Ключи должны быть `immutable` (`hashable`)

---

## 2. С помощью функции `dict()`

Функция `dict()` может принимать разные виды аргументов.

```python
d_empty = dict() # пример пустого словаря
```

### 2.1. С именованными аргументами (`kwargs`)

```python
d = dict(a=1, b=2, c=3)  # {'a': 1, 'b': 2, 'c': 3}
```

⚠️ Работает только если ключи — корректные имена переменных (строки без пробелов и спецсимволов).

---

### 2.2. Из двумерного массива

```python
d = dict([('a', 1), ('b', 2), ('c', 3)])
```

* Можно использовать **любую итерируемую структуру**, где каждый элемент — пара `(ключ, значение)`.
* Первый элемент может ТОЛЬКО `immutable` (`hashable`).

---

### 2.3. Из другого словаря

```python
old = {'a': 1, 'b': 2}
new = dict(old)
```

Создаётся поверхностная **копия** исходного словаря.

---

### 2.4. Из `zip()` с двумя аргументами (коллекциями)

```python
keys = ['a', 'b', 'c']
values = [1, 2, 3]
d = dict(zip(keys, values))
```

---

## 3. dict comprehension

```python
d = {x: x**2 for x in range(10) if x % 2 == 0}
# {0: 0, 2: 4, 4: 16, 6: 36, 8: 64}
```

---

## 4. С помощью `dict.fromkeys()`

Создаёт словарь из набора ключей, присваивая им одно и то же значение.

```python
d = dict.fromkeys(['a', 'b', 'c'], 0)
# {'a': 0, 'b': 0, 'c': 0}
```

Если значение не указано — по умолчанию `None`.

---


## 5. Unpacking

Можно объединять словари и добавлять новые пары при создании.

```python
a = {'x': 1, 'y': 2}
b = {**a, 'z': 3}
# {'x': 1, 'y': 2, 'z': 3}
```

Если ключи повторяются — последние значения **перезаписывают** предыдущие.

---

## 6. Из JSON-строки

Если данные приходят в виде текста (например, из файла или API):

```python
import json
d = json.loads('{"a": 1, "b": 2}')
```

---

## 7. Через `collections.defaultdict`

Если нужно создавать словарь с **значением по умолчанию**:

```python
from collections import defaultdict

d_int = defaultdict(int)  # значение по умолчанию — 0
d_int['a'] += 1
print(d_int)  # {'a': 1}  (строго говоря, будет defaultdict(int, {'a': 1}))

d_lst = defaultdict(list)
d_lst['a'].append(1)
print(d_lst)  # {'a': [1]}
```

---

## Итого

| Способ          | Пример                    | Когда использовать                      |
| --------------- | ------------------------- | --------------------------------------- |
| `{}`            | `{'a': 1}`                | Быстро и просто                         |
| `dict()`        | `dict(a=1, b=2)`          | Читаемо, когда ключи — строки           |
| `dict([...])`   | `dict([('a',1)])`         | Когда пары приходят из итератора        |
| `zip()`         | `dict(zip(keys, vals))`   | Когда ключи и значения в разных списках |
| `fromkeys()`    | `dict.fromkeys(keys, 0)`  | Инициализация одинаковыми значениями    |
| comprehension   | `{x: f(x) for x in data}` | Создание словаря на лету                |
| `**` распаковка | `{**d1, **d2}`            | Объединение словарей                    |
| `json.loads()`  | `json.loads(text)`        | Из JSON-строки                          |

