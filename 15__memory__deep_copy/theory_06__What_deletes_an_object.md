## Что именно удаляет объект?

## 1. Что такое переменная в Python?

Переменная `x` — это **имя (ссылка)**, которое хранится в *пространстве имён* (namespace).  
Она указывает на объект (в памяти).

```python
x = [1, 2, 3]   # x → ссылка на объект "список"
y = 10          # y → ссылка на объект "число 10"
```

---

## 2. Что именно хранится в переменной для разных типов данных?

* **Изменяемые типы (mutable)** хранит **ссылку на объект в памяти**.
  Объект можно менять через эту ссылку:

  ```python
  x = [1, 2, 3]
  x.append(4)   # меняется объект, а не ссылка
  ```

* **Неизменяемые типы (immutable)** — ТОЖЕ хранит ссылку, но сам объект изменить нельзя.  
* При "изменении" создаётся **новый объект**, а переменная начинает ссылаться на него:

  ```python
  x = "hello"
  x = x + "!"
  # Теперь x указывает на новый объект "hello!"
  ```

⚠️ МЕГА Важно: для Python **разницы нет** — всегда хранится **ссылка**.    
Различие только в том, можно ли менять объект по этой ссылке.

---

## 3. Где хранятся переменные?

* В Python переменные (`x`, `y`, `my_list`) живут в **пространстве имён** (namespace).

  * Внутри функции — в **локальном пространстве имён** (словарь `locals()`).
  * В модуле — в **глобальном пространстве имён** (словарь `globals()`).
* Сами **объекты** (списки, строки, числа) хранятся в **куче (heap)**.

То есть схема такая:

```
namespace (словарь)
 ├── "x" ──► [1, 2, 3]
 └── "y" ──► 10
```

---

## 4. Что делает `del x`?

* Удаляет имя `x` из пространства имён.
* Сам объект **не удаляется сразу**, если на него ещё есть другие ссылки.

Пример:

```python
a = [1, 2, 3]
b = a
del a

print(b)   # [1, 2, 3]
```

Здесь удалилось только имя `a`. Объект остался, потому что на него ссылается `b`.

---

## 5. Что действительно удаляет объект?

Когда счётчик ссылок на объект становится **0** (ни одна переменная на него не указывает),  
Python вызывает **сборщик мусора (Garbage Collector)** и освобождает память.

Пример:

```python
x = y = [1, 2, 3]

del y  # есть ещё ссылки, поэтому сам объект не удаляется

print(x)  # [1, 2, 3]
 
del x  # ссылка исчезла
# а вот теперь объект станет "мусором" и позже будет удалён GC
```

Аналогично:
```python
x = y = 5

del y  # есть ещё ссылки, поэтому сам объект не удаляется

print(x)  # 5
 
del x  # ссылка исчезла
# а вот теперь объект станет "мусором" и позже будет удалён GC
```

---

✅ Итог:

* Переменная `x` хранит **ссылку на объект**, и это верно для любых типов.
* Переменные живут в **namespace** (по сути, словарь).
* Объекты живут в **куче**.
* `del` удаляет **имя**, а объект удаляет **GC**, когда на него нет ссылок.

